<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>index</title>
    <style></style>
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
    <script type="text/javascript">
      window.onload = function () {
        let user = document.getElementById("user");
        let pwd = document.getElementById("pwd");
        let reg = document.getElementById("reg");
        let login = document.getElementById("login");

        reg.onclick = function () {
          $.ajax({
            url: "/login",
            data: {
              user: user.value,
              pass: pwd.value,
            },
            method: "get",
            success: function (data) {
              if (data.ok) {
                alert("注册成功");
              } else {
                alert(data.msg);
              }
            },
            error: function (err) {
              console.log(err);
            },
          });
        };
        login.onclick = function () {
          $.ajax({
            url: "/login",
            data: {
              user: user.value,
              pass: pwd.value,
            },
            method: "post",
            success: function (data) {
              if (data.ok) {
                alert("登录成功");
              } else {
                alert(data.msg);
              }
            },
            error: function (err) {
              console.log(err);
            },
          });
        };
      };
    </script>
  </head>
  <body>
    用户名：<input type="text" id="user" name="user" />
    <br />
    密码： <input id="pwd" type="text" name="pwd" />
    <button id="reg">注册</button>
    <button id="login">登录</button>
  </body>
</html>
